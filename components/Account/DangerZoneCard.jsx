import React from "react";
import { useDispatch, useSelector } from "react-redux";
import { deleteUserAccount } from "../../actions/AccountSettings";

const DangerZoneCard = () => {
  const dispatch = useDispatch();

  const userInfo = useSelector((state) => state.auth?.signIn?.userInfo);

  const handelDeleteAccount = (e) => {
    e.preventDefault();
    if (confirm("Are you sure you want to delete your account?")) {
      dispatch(deleteUserAccount({ id: userInfo?.id }));
    }
  };

  return (
    <div className="rounded-[10px] bg-white p-6 shadow-fb-one sm:p-10 xl:p-8 2xl:p-10">
      <h3 className="mb-6 flex items-center font-heading text-[22px] font-bold text-black">
        <span className="pr-2.5">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.0013 14.792C10.3465 14.792 10.6263 14.5122 10.6263 14.167V9.16699C10.6263 8.82182 10.3465 8.54199 10.0013 8.54199C9.65613 8.54199 9.3763 8.82182 9.3763 9.16699V14.167C9.3763 14.5122 9.65613 14.792 10.0013 14.792Z"
              fill="#E10E0E"
            />
            <path
              d="M10.0013 5.83366C10.4615 5.83366 10.8346 6.20676 10.8346 6.66699C10.8346 7.12723 10.4615 7.50033 10.0013 7.50033C9.54107 7.50033 9.16797 7.12723 9.16797 6.66699C9.16797 6.20676 9.54107 5.83366 10.0013 5.83366Z"
              fill="#E10E0E"
            />
            <path
              fillRule="evenodd"
              clipPath="evenodd"
              d="M1.04297 10.0003C1.04297 5.05277 5.05375 1.04199 10.0013 1.04199C14.9489 1.04199 18.9596 5.05277 18.9596 10.0003C18.9596 14.9479 14.9489 18.9587 10.0013 18.9587C5.05375 18.9587 1.04297 14.9479 1.04297 10.0003ZM10.0013 2.29199C5.74411 2.29199 2.29297 5.74313 2.29297 10.0003C2.29297 14.2575 5.74411 17.7087 10.0013 17.7087C14.2585 17.7087 17.7096 14.2575 17.7096 10.0003C17.7096 5.74313 14.2585 2.29199 10.0013 2.29199Z"
              fill="#E10E0E"
            />
          </svg>
        </span>
        Danger Zone
      </h3>

      <h4 className="mb-2.5 text-base font-medium text-black">
        Delete Account
      </h4>

      <p className="mb-6 text-sm text-body-color">
        Deleting the Account will erase all traces of this Account, including
        all submissions and file uploads and Settings.
      </p>

      <button
        className="inline-flex items-center justify-center rounded-lg bg-black px-6 py-3.5 font-heading text-sm font-medium text-white duration-300 hover:bg-black/90"
        onClick={(e) => handelDeleteAccount(e)}
      >
        <span className="pr-2">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipPath="evenodd"
              d="M8.59244 1.87502H11.4103C11.5906 1.8749 11.7477 1.8748 11.8961 1.89849C12.4822 1.99208 12.9893 2.35762 13.2635 2.88403C13.3328 3.01727 13.3824 3.16634 13.4393 3.33745L13.5323 3.61654C13.5481 3.66378 13.5526 3.67715 13.5564 3.68768C13.7023 4.09111 14.0807 4.36383 14.5096 4.3747C14.5209 4.37498 14.5347 4.37503 14.5847 4.37503H17.0847C17.4299 4.37503 17.7097 4.65485 17.7097 5.00003C17.7097 5.34521 17.4299 5.62503 17.0847 5.62503H2.91797C2.57279 5.62503 2.29297 5.34521 2.29297 5.00003C2.29297 4.65485 2.57279 4.37503 2.91797 4.37503H5.41804C5.46808 4.37503 5.48189 4.37498 5.49316 4.3747C5.92204 4.36383 6.30039 4.09113 6.44632 3.6877C6.45016 3.67709 6.45457 3.66401 6.4704 3.61654L6.5634 3.33747C6.62031 3.16637 6.66991 3.01728 6.73929 2.88403C7.01341 2.35762 7.52058 1.99208 8.10666 1.89849C8.25501 1.8748 8.41211 1.8749 8.59244 1.87502ZM7.50809 4.37503C7.55102 4.29085 7.58906 4.20337 7.62178 4.1129C7.63172 4.08543 7.64146 4.05619 7.65399 4.01861L7.73715 3.7691C7.81313 3.54118 7.83062 3.49469 7.84798 3.46137C7.93935 3.2859 8.10841 3.16405 8.30377 3.13285C8.34087 3.12693 8.39049 3.12503 8.63076 3.12503H11.372C11.6122 3.12503 11.6619 3.12693 11.699 3.13285C11.8943 3.16405 12.0634 3.2859 12.1548 3.46137C12.1721 3.49469 12.1896 3.54117 12.2656 3.7691L12.3487 4.01846L12.381 4.11292C12.4137 4.20338 12.4517 4.29085 12.4946 4.37503H7.50809Z"
              fill="currentColor"
            />
            <path
              d="M4.93054 7.04179C4.90758 6.69738 4.60977 6.43679 4.26535 6.45975C3.92094 6.48271 3.66035 6.78053 3.68331 7.12494L4.06952 12.9181C4.14077 13.987 4.19832 14.8505 4.33329 15.528C4.47362 16.2324 4.71231 16.8208 5.2053 17.2821C5.6983 17.7433 6.30126 17.9423 7.01347 18.0355C7.69849 18.1251 8.56384 18.125 9.63514 18.125H10.3676C11.4389 18.125 12.3043 18.1251 12.9893 18.0355C13.7015 17.9423 14.3044 17.7433 14.7974 17.2821C15.2904 16.8208 15.5291 16.2324 15.6694 15.528C15.8044 14.8505 15.862 13.987 15.9332 12.9181L16.3194 7.12494C16.3424 6.78053 16.0818 6.48271 15.7374 6.45975C15.393 6.43679 15.0952 6.69738 15.0722 7.04179L14.6889 12.7911C14.614 13.9143 14.5607 14.6958 14.4435 15.2838C14.3299 15.8542 14.1713 16.1561 13.9435 16.3692C13.7156 16.5824 13.4038 16.7206 12.8271 16.796C12.2326 16.8738 11.4493 16.875 10.3236 16.875H9.67914C8.55343 16.875 7.7701 16.8738 7.17559 16.796C6.59893 16.7206 6.28713 16.5824 6.05928 16.3692C5.83144 16.1561 5.67283 15.8542 5.5592 15.2838C5.44206 14.6958 5.38871 13.9143 5.31383 12.7911L4.93054 7.04179Z"
              fill="currentColor"
            />
            <path
              d="M7.85585 8.5448C8.19932 8.51045 8.5056 8.76104 8.53994 9.10451L8.95661 13.2712C8.99096 13.6146 8.74037 13.9209 8.3969 13.9553C8.05344 13.9896 7.74716 13.739 7.71281 13.3956L7.29615 9.22889C7.2618 8.88542 7.51239 8.57915 7.85585 8.5448Z"
              fill="currentColor"
            />
            <path
              d="M12.1469 8.5448C12.4904 8.57915 12.741 8.88542 12.7066 9.22889L12.2899 13.3956C12.2556 13.739 11.9493 13.9896 11.6059 13.9553C11.2624 13.9209 11.0118 13.6146 11.0461 13.2712L11.4628 9.10451C11.4972 8.76104 11.8034 8.51045 12.1469 8.5448Z"
              fill="currentColor"
            />
          </svg>
        </span>
        Delete
      </button>
    </div>
  );
};

export default DangerZoneCard;
