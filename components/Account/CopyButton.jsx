
// import React, { useState } from "react";

// const CopyButton = ({ code, color = "bg-white" }) => {
//   const [copyText, setCopyText] = useState("Copy");

//   const handleCopy = async () => {
//     try {
//       await navigator.clipboard.writeText(code);
//       setCopyText("Copied!");
//       setTimeout(() => setCopyText("Copy"), 3000);
//     } catch (err) {
//       console.error("Failed to copy:", err);
//       setCopyText("Failed!");
//       setTimeout(() => setCopyText("Copy"), 3000);
//     }
//   };

//   return (
//     <button
//       type="button"
//       onClick={handleCopy}
//       className={`inline-flex items-center justify-center rounded-md ${color} px-2.5 py-1.5 text-sm font-medium text-body-color shadow-fb-one duration-300 hover:text-black hover:shadow-copy-hover`}
//     >
//       <span className="pr-2">
//         <svg
//           width="18"
//           height="18"
//           viewBox="0 0 18 18"
//           fill="none"
//           xmlns="http:www.w3.org/2000/svg"
//         >
//           <path
//             fillRule="evenodd"
//             clipRule="evenodd"
//             d="M11.25 0.9375H8.20769C6.82937 0.937488 5.73764 0.937479 4.88323 1.05235C4.00392 1.17057 3.29221 1.41966 2.73093 1.98093C2.16966 2.54221 1.92057 3.25392 1.80235 4.13323C1.68748 4.98764 1.68749 6.07936 1.6875 7.45768V12C1.6875 13.4042 2.71654 14.568 4.06164 14.7785C4.16511 15.3515 4.36315 15.8406 4.76126 16.2387C5.2127 16.6902 5.78111 16.8843 6.45619 16.9751C7.10641 17.0625 7.93315 17.0625 8.95885 17.0625H11.2912C12.3168 17.0625 13.1436 17.0625 13.7938 16.9751C14.4689 16.8843 15.0373 16.6902 15.4887 16.2387C15.9402 15.7873 16.1343 15.2189 16.2251 14.5438C16.3125 13.8936 16.3125 13.0668 16.3125 12.0412V8.20885C16.3125 7.18315 16.3125 6.35641 16.2251 5.70619C16.1343 5.03111 15.9402 4.4627 15.4887 4.01126C15.0906 3.61315 14.6015 3.41511 14.0285 3.31164C13.818 1.96654 12.6542 0.9375 11.25 0.9375ZM12.847 3.20338C12.6199 2.53968 11.9907 2.0625 11.25 2.0625H8.25C6.81989 2.0625 5.80389 2.0637 5.03314 2.16732C4.27857 2.26877 3.84384 2.45902 3.52643 2.77643C3.20902 3.09384 3.01877 3.52857 2.91732 4.28314C2.8137 5.05388 2.8125 6.06988 2.8125 7.5V12C2.8125 12.7407 3.28968 13.3699 3.95338 13.597C3.93748 13.1395 3.93749 12.6223 3.9375 12.0412V8.20884C3.93748 7.18315 3.93747 6.35641 4.02489 5.70619C4.11566 5.03111 4.30983 4.4627 4.76126 4.01126C5.2127 3.55983 5.78111 3.36566 6.45619 3.27489C7.10641 3.18747 7.93315 3.18748 8.95884 3.1875H11.2912C11.8723 3.18749 12.3895 3.18748 12.847 3.20338ZM5.55676 4.80676C5.76433 4.59919 6.05576 4.46385 6.60609 4.38986C7.1726 4.3137 7.92344 4.3125 9 4.3125H11.25C12.3266 4.3125 13.0774 4.3137 13.6439 4.38986C14.1942 4.46385 14.4857 4.59919 14.6932 4.80676C14.9008 5.01433 15.0361 5.30576 15.1101 5.85609C15.1863 6.4226 15.1875 7.17344 15.1875 8.25V12C15.1875 13.0766 15.1863 13.8274 15.1101 14.3939C15.0361 14.9442 14.9008 15.2357 14.6932 15.4432C14.4857 15.6508 14.1942 15.7862 13.6439 15.8601C13.0774 15.9363 12.3266 15.9375 11.25 15.9375H9C7.92344 15.9375 7.1726 15.9363 6.60609 15.8601C6.05576 15.7862 5.76433 15.6508 5.55676 15.4432C5.34919 15.2357 5.21385 14.9442 5.13986 14.3939C5.0637 13.8274 5.0625 13.0766 5.0625 12V8.25C5.0625 7.17344 5.0637 6.4226 5.13986 5.85609C5.21385 5.30576 5.34919 5.01433 5.55676 4.80676Z"
//             fill="currentColor"
//           />
//         </svg>
//       </span>
//       {copyText}
//     </button>
//   );
// };

// export default CopyButton;





import React, { useState } from "react";

const CopyButton = ({ code, color = "bg-white", className = "", showIconOnly = false }) => {
  const [copied, setCopied] = useState(false);

  const handleCopy = async () => {
    try {
      await navigator.clipboard.writeText(code);
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    } catch (err) {
      console.error("Failed to copy:", err);
    }
  };

  return (
    <button
      type="button"
      onClick={handleCopy}
      className={`inline-flex items-center justify-center rounded-md ${color} p-2 text-sm font-medium text-body-color shadow-fb-one duration-300 hover:text-black hover:shadow-copy-hover ${className}`}
      aria-label="Copy to clipboard"
      tabIndex={0}
    >
      {copied ? (
        // Checkmark icon
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 9.5L8 12.5L13 7.5" stroke="#22C55E" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
      ) : (
        // Copy icon
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M11.25 0.9375H8.20769C6.82937 0.937488 5.73764 0.937479 4.88323 1.05235C4.00392 1.17057 3.29221 1.41966 2.73093 1.98093C2.16966 2.54221 1.92057 3.25392 1.80235 4.13323C1.68748 4.98764 1.68749 6.07936 1.6875 7.45768V12C1.6875 13.4042 2.71654 14.568 4.06164 14.7785C4.16511 15.3515 4.36315 15.8406 4.76126 16.2387C5.2127 16.6902 5.78111 16.8843 6.45619 16.9751C7.10641 17.0625 7.93315 17.0625 8.95885 17.0625H11.2912C12.3168 17.0625 13.1436 17.0625 13.7938 16.9751C14.4689 16.8843 15.0373 16.6902 15.4887 16.2387C15.9402 15.7873 16.1343 15.2189 16.2251 14.5438C16.3125 13.8936 16.3125 13.0668 16.3125 12.0412V8.20885C16.3125 7.18315 16.3125 6.35641 16.2251 5.70619C16.1343 5.03111 15.9402 4.4627 15.4887 4.01126C15.0906 3.61315 14.6015 3.41511 14.0285 3.31164C13.818 1.96654 12.6542 0.9375 11.25 0.9375ZM12.847 3.20338C12.6199 2.53968 11.9907 2.0625 11.25 2.0625H8.25C6.81989 2.0625 5.80389 2.0637 5.03314 2.16732C4.27857 2.26877 3.84384 2.45902 3.52643 2.77643C3.20902 3.09384 3.01877 3.52857 2.91732 4.28314C2.8137 5.05388 2.8125 6.06988 2.8125 7.5V12C2.8125 12.7407 3.28968 13.3699 3.95338 13.597C3.93748 13.1395 3.93749 12.6223 3.9375 12.0412V8.20884C3.93748 7.18315 3.93747 6.35641 4.02489 5.70619C4.11566 5.03111 4.30983 4.4627 4.76126 4.01126C5.2127 3.55983 5.78111 3.36566 6.45619 3.27489C7.10641 3.18747 7.93315 3.18748 8.95884 3.1875H11.2912C11.8723 3.18749 12.3895 3.18748 12.847 3.20338ZM5.55676 4.80676C5.76433 4.59919 6.05576 4.46385 6.60609 4.38986C7.1726 4.3137 7.92344 4.3125 9 4.3125H11.25C12.3266 4.3125 13.0774 4.3137 13.6439 4.38986C14.1942 4.46385 14.4857 4.59919 14.6932 4.80676C14.9008 5.01433 15.0361 5.30576 15.1101 5.85609C15.1863 6.4226 15.1875 7.17344 15.1875 8.25V12C15.1875 13.0766 15.1863 13.8274 15.1101 14.3939C15.0361 14.9442 14.9008 15.2357 14.6932 15.4432C14.4857 15.6508 14.1942 15.7862 13.6439 15.8601C13.0774 15.9363 12.3266 15.9375 11.25 15.9375H9C7.92344 15.9375 7.1726 15.9363 6.60609 15.8601C6.05576 15.7862 5.76433 15.6508 5.55676 15.4432C5.34919 15.2357 5.21385 14.9442 5.13986 14.3939C5.0637 13.8274 5.0625 13.0766 5.0625 12V8.25C5.0625 7.17344 5.0637 6.4226 5.13986 5.85609C5.21385 5.30576 5.34919 5.01433 5.55676 4.80676Z"
            fill="currentColor"
          />
        </svg>
      )}
      {!showIconOnly && (
        <span className="pl-2">{copied ? "Copied!" : "Copy"}</span>
      )}
    </button>
  );
};

export default CopyButton;
